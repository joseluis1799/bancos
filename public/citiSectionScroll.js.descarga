'use strict';!function(e,t){'object'==typeof exports&&'undefined'!=typeof module?t(exports):'function'==typeof define&&define.amd?define(['exports'],t):t((e=e||self).citi=e.citi||{})}(this,(function(e){var t=function(){var e={},t=[],o=null;function n(e,t,n){if(!o)return setTimeout(e,t),void(o=n)}function i(){var o=document.createEvent('Event');o.initEvent('citiLastScrolled',!0,!0);for(var n=0;n<t.length;n++){var i=t[n],c=document.querySelectorAll('[data-sec-scroll="'+i.dataset.scrollTo+'"]');if(i.offsetHeight+i.offsetTop+e.offsetHeight<window.scrollY+window.innerHeight/4||i.getBoundingClientRect().top>window.innerHeight-window.innerHeight/4*3){for(var r=0;r<c.length;r++){c[r].classList.remove('active')}n==t.length-1&&i.offsetHeight+i.offsetTop+e.offsetHeight<window.scrollY&&window.dispatchEvent(o)}else if(i.getBoundingClientRect().top+e.offsetHeight+window.innerHeight/4<window.innerHeight-window.innerHeight/4)for(r=0;r<c.length;r++){c[r].classList.add('active')}}}return{init:function(){e=document.querySelector('header'),t=document.querySelectorAll('[data-scroll-to]'),[].forEach.call(t,(function(t){var o=document.querySelectorAll('[data-sec-scroll="'+t.dataset.scrollTo+'"]');[].forEach.call(o,(function(o){o.removeEventListener('click',(function(){var o=document.querySelector('[data-scroll-to='+t.dataset.scrollTo+']')||!1;o&&(o.setAttribute('tabindex',0),o.focus()),window.scroll(0,parseInt(t.offsetTop)-2*e.offsetHeight)})),o.addEventListener('click',(function(){var o=document.querySelector('[data-scroll-to='+t.dataset.scrollTo+']')||!1;o&&(o.setAttribute('tabindex',0),o.focus()),window.scroll(0,parseInt(t.offsetTop)-2*e.offsetHeight)}))}))})),window.removeEventListener('scroll',(function(e){n((function(e){i(),o=null}),500,e)})),window.addEventListener('scroll',(function(e){n((function(e){i(),o=null}),500,e)}))}}}();e.SectionScroll=t,Object.defineProperty(e,'__esModule',{value:!0})}));